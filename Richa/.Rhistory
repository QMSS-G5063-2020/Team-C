knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(ggplot2)
library(dplyr)
library(scales)
setwd(getwd())
df_gdp_pp <- read_csv("Data/GDP_PP/GDP_PP.csv", skip = 4, trim_ws = TRUE, na = "NA")
df_gdp_pp <- data.frame(df_gdp_pp)
# Source- https://www.worldbank.org/
need <- c("Lebanon", "Micronesia, Fed. Sts.", "Tonga", "Maldives", "Eritrea")
# Identify the top 10 countries and the ranks of the countries we need in 2018.
df_gdp_pp %>%
select(`Country.Name`, `X2018`) %>%
arrange(desc(`X2018`)) %>%
head(n = 20)
top_10 <- c("Monaco", "Luxembourg", "Macao SAR, China", "Switzerland", "Norway",
"Ireland", "Iceland", "Qatar", "Singapore", "United States")
df_gdp_pp_need <- df_gdp_pp %>%
filter(Country.Name %in% top_10 | Country.Name %in% need) %>%
select(`Country.Name`, `X2018`) %>%
arrange(desc(`X2018`))
# GDP per capita is increasing at rate of 7.2% , 2011 value is 811.3760
df_gdp_pp_need$X2018[df_gdp_pp_need$Country.Name == "Eritrea"] <- 811.3760 * 1.072 * 7
ggplot(df_gdp_pp_need) +
geom_bar(aes(x = reorder(Country.Name, X2018), y = X2018), stat = "identity") +
scale_y_continuous(labels = comma) +
labs(title = "GDP per capita",
subtitle = "2018 (Top 10 countries along with top 5 emigration countries)",
caption = "https://www.worldbank.org/", parse = TRUE) +
xlab(NULL) + ylab(NULL) +
coord_flip()
install.packages('wbstats')
installed.packages('tidyverse')
install.packages('tidyverse')
library(tidyverse)
library(wbstats)
knitr::opts_chunk$set(echo = TRUE)
#install.packages('wbstats')
#install.packages('tidyverse')
library(wbstats)
library(tidyverse)
wb(country = "all",indicator = "SM.POP.NETM")
#SM.POP.TOTL (immigration )
#SM.POP.NETM (net migration)
?wb
wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 2000)
wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 2000, enddate = 2015)
net_migration <- wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 2000, enddate = 2015)
table(net_migration$country)
net_migration <- wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 1960, enddate = 2015)
table(net_migration$country)
filter(net_migration, net_migration=="Virgin Islands (U.S.)")
filter(net_migration, net_migration!="Virgin Islands (U.S.)")
filter(net_migration, net_migration=="Virgin Islands (U.S.)")
net_migration$country=="Virgin Islands (U.S.)"
filter(net_migration, net_migration$country=="Virgin Islands (U.S.)")
filter(net_migration, net_migration$country!="Virgin Islands (U.S.)")
filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(-iso2c,date,iso3c,country)
filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(-iso2c,-indicatorID,-indicator,date,iso3c,country)
filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(-iso2c,-indicatorID,-indicator,date,iso3c,country,value)
filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,iso3c,country,value)
filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,code=iso3c,country,value)
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,code=iso3c,country,value)
net_migration
summary(net_migration)
#SM.POP.TOTL (immigration )
#SM.POP.NETM (net migration)
wbstats::wbcountries()
net_migration %>%
dplyr::left_join(wbstats::wbcountries() %>%
dplyr::select(iso3c, region)) %>%
tidyr::pivot_wider(
id_cols = c("date", "country", "region"),
names_from = indicator,
values_from = value
)
#selects relevant data and reorganizes dataframe
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,iso3c,country,value)
#selects relevant data and reorganizes dataframe
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,iso3c,country,value)
net_migration <- wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 1960, enddate = 2015)
#selects relevant data and reorganizes dataframe
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,iso3c,country,value)
net_migration %>%
dplyr::left_join(wbstats::wbcountries() %>%
dplyr::select(iso3c, region)) %>%
tidyr::pivot_wider(
id_cols = c("date", "country", "region"),
names_from = indicator,
values_from = value
)
#selects relevant data and reorganizes dataframe
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,iso3c,country,indicator,value)
net_migration <- wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 1960, enddate = 2015)
#selects relevant data and reorganizes dataframe
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,iso3c,country,indicator,value)
net_migration %>%
dplyr::left_join(wbstats::wbcountries() %>%
dplyr::select(iso3c, region)) %>%
tidyr::pivot_wider(
id_cols = c("date", "country", "region"),
names_from = indicator,
values_from = value
)
#selects relevant data and reorganizes dataframe
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)") %>% select(date,code=iso3c,country,indicator,value)
#adds region throug joining on iso3c code
net_migration <- net_migration %>%
dplyr::left_join(wbstats::wbcountries() %>%
dplyr::select(code, region)) %>%
tidyr::pivot_wider(
id_cols = c("date", "country", "region"),
names_from = indicator,
values_from = value
)
#adds region throug joining on iso3c code
net_migration <- net_migration %>%
dplyr::left_join(wbstats::wbcountries() %>%
dplyr::select(code=iso3c, region)) %>%
tidyr::pivot_wider(
id_cols = c("date", "country", "region"),
names_from = indicator,
values_from = value
)
filter(net_migration$date==2015) %>% arrange(net_migration$)
filter(net_migration$date==2015) %>% arrange(net_migration$`Net migration`)
filter(net_migration$date==2015) %>% arrange(net_migration$value)
filter(net_migration$date==2015)
filter(net_migration,net_migration$date==2015)
filter(net_migration,net_migration$date!=2015)
net_migration <- wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 1960, enddate = mrv)
net_migration <- wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 1960, enddate = "mrv")
net_migration <- wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 1960, enddate = "2018")
filter(net_migration,net_migration$date!=2015)
filter(net_migration,net_migration$date!=2017)
filter(net_migration,net_migration$date==2017)
net_migration <- wb(country = "countries_only",indicator = "SM.POP.NETM",  startdate = 1960, enddate = "2018")
#selects relevant data and reorganizes dataframe
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)")
#adds region throug joining on iso3c code
net_migration <- net_migration %>%
dplyr::left_join(wbstats::wbcountries() %>%
dplyr::select(code=iso3c, region)) %>%
tidyr::pivot_wider(
id_cols = c("date", "country", "region"),
names_from = indicator,
values_from = value
)
#selects relevant data and reorganizes dataframe
net_migration <- filter(net_migration, net_migration$country!="Virgin Islands (U.S.)")
#adds region throug joining on iso3c code
net_migration <- net_migration %>%
dplyr::left_join(wbstats::wbcountries() %>%
dplyr::select(iso3c, region)) %>%
tidyr::pivot_wider(
id_cols = c("date", "country", "region"),
names_from = indicator,
values_from = value
)
net_migration
filter(net_migration,net_migration$date==2017) %>% arrange(`Net migration`)
filter(net_migration,net_migration$date==2016) %>% arrange(`Net migration`)
filter(net_migration,net_migration$date==2015) %>% arrange(`Net migration`)
filter(net_migration,net_migration$date==2012) %>% arrange(`Net migration`)
filter(net_migration,net_migration$date==2012) %>% arrange(`Net migration`) %>% select("Venezuela")
filter(net_migration,net_migration$date==2012) %>% arrange(`Net migration`) %>% select("Venezuela, RB")
table(net_migration$country)
filter(net_migration,net_migration$date==2012) %>% arrange(`Net migration`) %>% select(country=="Venezuela, RB")
filter(net_migration,net_migration$date==2012) %>% arrange(`Net migration`) %>% select(net_migration$country=="Venezuela, RB")
filter(net_migration,net_migration$date==2012) %>% arrange(`Net migration`)
knitr::opts_chunk$set(echo = TRUE)
inputPanel(
selectInput("n_breaks", label = "Number of bins:",
choices = c(10, 20, 35, 50), selected = 20),
sliderInput("bw_adjust", label = "Bandwidth adjustment:",
min = 0.2, max = 2, value = 1, step = 0.2)
)
unique(net_migration$date)
as.numeric(unique(net_migration$date))
inputPanel(
selectInput("Year", label = "Select Year:",
choices = as.numeric(unique(net_migration$date)),
selected = max(as.numeric(unique(net_migration$date)))),
sliderInput("Year", label = "Select Year:",
min = min(as.numeric(unique(net_migration$date))),
max = max(as.numeric(unique(net_migration$date))),
value = max(as.numeric(unique(net_migration$date))),
step = 5)
)
filter(net_migration,net_migration$date==2012) %>% arrange(`Net migration`)
kableExtra::kable(filter(net_migration,net_migration$date==2012) %>% arrange(`Net migration`))
kableExtra::kable(filter(net_migration,net_migration$date==input$Year)
library(kableExtra)
renderPlot({
kable(filter(net_migration,net_migration$date==input$Year))
})
?renderDataTable()
shiny::runApp('C:/Users/JoseA/OneDrive/Desktop/University Career/2020 Spring, Columbia/Data Visualization/Final Project/Team-C/Andres/Team_C')
runApp('C:/Users/JoseA/OneDrive/Desktop/University Career/2020 Spring, Columbia/Data Visualization/Final Project/Team-C/Andres/Team_C')
library(shiny)
install.packages("shinythemes")
View(net_migration)
filter(df,df$date==input$Year)
filter(df,df$date==2012)
filter(df,df$date==input$Year)
filter(df,df$date==2007)
filter(net_migration,net_migration$date==2007)
filter(net_migration,net_migration$date==2007&net_migration$region)
filter(net_migration,net_migration$date==2007&net_migration$region=="Middle East & North Africa")
filter(net_migration,net_migration$date==2007&net_migration$region=="Middle East & North Africa"&net_migration$country=="Mexico")
filter(net_migration,net_migration$date==2012&net_migration$region=="Middle East & North Africa"&net_migration$country=="Mexico")
filter(net_migration,net_migration$date==2012&net_migration$region=="Middle East & North Africa"&net_migration$country=="Russia")
filter(net_migration,net_migration$date==2012&net_migration$region=="Middle East & North Africa"&net_migration$country=="India")
filter(net_migration,net_migration$date==2012&net_migration$region=="Middle East & North Africa")
filter(net_migration,net_migration$date==2012&net_migration$region=="Middle East & North Africa"&net_migration$country=="Bahrain")
