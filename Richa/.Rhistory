geom_segment(aes(x = 2.9, xend = 2.9, y = 0, yend = 1000000), color = "blue", size = 0.2) +
geom_label(aes(x = 2.9, y = 800000, label = "1999:\n Chavez begins\nfirst term"), size = 2.5) +
geom_segment(aes(x = 3.3, xend = 3.3, y = 0, yend = 1010000), color = "blue", size = 0.2) +
geom_label(aes(x = 3.3, y = 500000, label = "2002:\n Armed forces\nrebel"), size = 2.5) +
geom_segment(aes(x = 5.5, xend = 5.5, y = 0, yend = 1385000), color = "blue", size = 0.2) +
geom_label(aes(x=5.5, y=500000, label="2013:\nPresident Chavez dies.\nMaduro elected"),size=2.5) +
geom_segment(aes(x = 5.8, xend = 5.8, y = 0, yend = 1400000), color = "blue", size = 0.2) +
geom_label(aes(x=6, y=1100000, label="2014:\nCentral Bank\n confirms recession"),size=2.5) +
labs(
title = "Evolution of migration",
subtitle = "1990 - 2019",
caption = "source: World Bank, Global Poverty Working Group."
) +
scale_color_viridis(discrete=TRUE, guide=FALSE, option="D", direction = 1)
ggplotly(p)
options(scipen = 999)
p <- destination_data_ven %>%
mutate(year = factor(...1)) %>%
ggplot() +
geom_point(aes(x = year, y = Total)) +
geom_line(aes(x = year, y = Total, group = 1)) +
ylab(NULL) + xlab(NULL) +
geom_segment(aes(x = 1.1, xend = 1.1, y = 0, yend = 1000000), color = "blue", size = 0.2) +
geom_label(aes(x = 1.1, y = 800000, label = "1992:\n Venezuela is\n3rd richest country"), size = 2.5) +
geom_segment(aes(x = 2.9, xend = 2.9, y = 0, yend = 1000000), color = "blue", size = 0.2) +
geom_label(aes(x = 2.9, y = 800000, label = "1999:\n Chavez begins\nfirst term"), size = 2.5) +
geom_segment(aes(x = 3.3, xend = 3.3, y = 0, yend = 1010000), color = "blue", size = 0.2) +
geom_label(aes(x = 3.3, y = 500000, label = "2002:\n Armed forces\nrebel"), size = 2.5) +
geom_segment(aes(x = 5.5, xend = 5.5, y = 0, yend = 1385000), color = "blue", size = 0.2) +
geom_label(aes(x=5.5, y=500000, label="2013:\nPresident Chavez dies.\nMaduro elected"),size=2.5) +
geom_segment(aes(x = 5.8, xend = 5.8, y = 0, yend = 1400000), color = "blue", size = 0.2) +
geom_label(aes(x=6, y=1100000, label="2014:\nCentral Bank\n confirms recession"),size=2.5) +
labs(
title = "Evolution of migration",
subtitle = "1990 - 2019",
caption = "source: World Bank, Global Poverty Working Group."
) +
scale_color_viridis(discrete=TRUE, guide=FALSE, option="D", direction = 1)
ggplotly(p)
options(scipen = 999)
destination_data_ven %>%
mutate(year = factor(...1)) %>%
ggplot() +
geom_point(aes(x = year, y = Total)) +
geom_line(aes(x = year, y = Total, group = 1)) +
ylab(NULL) + xlab(NULL) +
geom_segment(aes(x = 1.1, xend = 1.1, y = 0, yend = 1000000), color = "blue", size = 0.2) +
geom_label(aes(x = 1.1, y = 800000, label = "1992:\n Venezuela is\n3rd richest country"), size = 2.5) +
geom_segment(aes(x = 2.9, xend = 2.9, y = 0, yend = 1000000), color = "blue", size = 0.2) +
geom_label(aes(x = 2.9, y = 800000, label = "1999:\n Chavez begins\nfirst term"), size = 2.5) +
geom_segment(aes(x = 3.3, xend = 3.3, y = 0, yend = 1010000), color = "blue", size = 0.2) +
geom_label(aes(x = 3.3, y = 500000, label = "2002:\n Armed forces\nrebel"), size = 2.5) +
geom_segment(aes(x = 5.5, xend = 5.5, y = 0, yend = 1385000), color = "blue", size = 0.2) +
geom_label(aes(x=5.5, y=500000, label="2013:\nPresident Chavez dies.\nMaduro elected"),size=2.5) +
geom_segment(aes(x = 5.8, xend = 5.8, y = 0, yend = 1400000), color = "blue", size = 0.2) +
geom_label(aes(x=6, y=1100000, label="2014:\nCentral Bank\n confirms recession"),size=2.5) +
labs(
title = "Evolution of migration",
subtitle = "1990 - 2019",
caption = "source: World Bank, Global Poverty Working Group."
) +
scale_color_viridis(discrete=TRUE, guide=FALSE, option="D", direction = 1)
options(scipen = 999)
destination_data_ven %>%
mutate(year = factor(...1)) %>%
ggplot() +
geom_point(aes(x = year, y = Total, color = "red")) +
geom_line(aes(x = year, y = Total, group = 1, color = "red")) +
ylab(NULL) + xlab(NULL) +
geom_segment(aes(x = 1.1, xend = 1.1, y = 0, yend = 1000000), color = "orange", size = 0.2) +
geom_label(aes(x = 1.1, y = 800000, label = "1992:\n Venezuela is\n3rd richest country", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 2.9, xend = 2.9, y = 0, yend = 1000000), color = "orange", size = 0.2) +
geom_label(aes(x = 2.9, y = 800000, label = "1999:\n Chavez begins\nfirst term", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 3.3, xend = 3.3, y = 0, yend = 1010000), color = "orange", size = 0.2) +
geom_label(aes(x = 3.3, y = 500000, label = "2002:\n Armed forces\nrebel", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 5.5, xend = 5.5, y = 0, yend = 1385000), color = "orange", size = 0.2) +
geom_label(aes(x=5.5, y=500000, label="2013:\nPresident Chavez dies.\nMaduro elected", fill = "yellow"),size=2.5) +
geom_segment(aes(x = 5.8, xend = 5.8, y = 0, yend = 1400000), color = "orange", size = 0.2) +
geom_label(aes(x=6, y=1100000, label="2014:\nCentral Bank\n confirms recession", fill = "yellow"),size=2.5) +
labs(
title = "Evolution of migration",
subtitle = "1990 - 2019",
caption = "source: World Bank, Global Poverty Working Group."
) +
scale_color_viridis(discrete=TRUE, guide=FALSE, option="D", direction = 1)
options(scipen = 999)
destination_data_ven %>%
mutate(year = factor(...1)) %>%
ggplot() +
geom_point(aes(x = year, y = Total, color = "red")) +
geom_line(aes(x = year, y = Total, group = 1, color = "red")) +
ylab(NULL) + xlab(NULL) +
geom_segment(aes(x = 1.1, xend = 1.1, y = 0, yend = 1000000), color = "orange", size = 0.2) +
geom_label(aes(x = 1.1, y = 800000, label = "1992:\n Venezuela is\n3rd richest country", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 2.9, xend = 2.9, y = 0, yend = 1000000), color = "orange", size = 0.2) +
geom_label(aes(x = 2.9, y = 800000, label = "1999:\n Chavez begins\nfirst term", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 3.3, xend = 3.3, y = 0, yend = 1010000), color = "orange", size = 0.2) +
geom_label(aes(x = 3.3, y = 500000, label = "2002:\n Armed forces\nrebel", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 5.5, xend = 5.5, y = 0, yend = 1385000), color = "orange", size = 0.2) +
geom_label(aes(x=5.5, y=500000, label="2013:\nPresident Chavez dies.\nMaduro elected", fill = "yellow"),size=2.5) +
geom_segment(aes(x = 5.8, xend = 5.8, y = 0, yend = 1400000), color = "orange", size = 0.2) +
geom_label(aes(x=6, y=1100000, label="2014:\nCentral Bank\n confirms recession", fill = "yellow"),size=2.5) +
labs(
title = "Evolution of migration",
subtitle = "1990 - 2019",
caption = "source: World Bank, Global Poverty Working Group."
) +
theme(
legend.position = "none"
) +
scale_color_viridis(discrete=TRUE, guide=FALSE, option="D", direction = 1)
gdp_data_ssu <- wb(country = "SSD",
indicator = c("NY.GDP.PCAP.KD.ZG") , startdate = 2009, enddate = 2020)
gdp_data_ssu$date <- as.numeric(gdp_data_ssu$date)
pov_data_ssu <- wbstats::wb(country = "SSD",
indicator = "SI.POV.NAHC", startdate = 2009, enddate = 2020, return_wide = TRUE)
pov_data_ssu$date <- pov_data_ssu$date %>%
as.numeric()
ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date)),
aes(x = factor(date), y = SI.POV.NAHC, fill = factor(SI.POV.NAHC)), stat = "identity") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1))
+
theme(
legend.position = "none"
)
ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date)),
aes(x = factor(date), y = SI.POV.NAHC, fill = factor(SI.POV.NAHC)), stat = "identity") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1)) +
theme(
legend.position = "none"
)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date)),
aes(x = factor(date), y = SI.POV.NAHC, fill = factor(SI.POV.NAHC)), stat = "identity") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1)) +
theme(
legend.position = "none"
)
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date)),
aes(x = factor(date), y = SI.POV.NAHC, fill = factor(SI.POV.NAHC)), stat = "identity") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate"))
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date)),
aes(x = factor(date), y = SI.POV.NAHC), stat = "identity", fill = factor(SI.POV.NAHC)) +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL) +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE) +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = factor(date), y = `%age population under poverty`), stat = "identity", fill = "%age population under poverty") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL) +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE) +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1)
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = factor(date), y = `%age population under poverty`), stat = "identity") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL) +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE) +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1)
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = year, y = `%age population under poverty`, fill = `%age population under poverty`), stat = "identity") + theme(legend.position = "none") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL) +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE) +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1)
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = year, y = `%age population under poverty`, fill = factor(`%age population under poverty`)), stat = "identity") + theme(legend.position = "none") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL) +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE) +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1)
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = factor(SI.POV.NAHC)),
aes(x = year, y = `%age population under poverty`, fill = `%age population under poverty`), stat = "identity") + theme(legend.position = "none") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL) +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE) +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1)
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = year, y = `%age population under poverty`, fill = factor(`%age population under poverty`)), stat = "identity") + theme(legend.position = "none") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL) +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE) +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1)
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = year, y = `%age population under poverty`, fill = factor(`%age population under poverty`)), stat = "identity") + theme(legend.position = "none") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL) +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE) +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1) + theme(legend.position = "right")
ggplotly(p)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = year, y = `%age population under poverty`, fill = factor(`%age population under poverty`)), stat = "identity") + theme(legend.position = "none") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL)  +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1) + theme(legend.position = "right") +
+
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE)
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = year, y = `%age population under poverty`, fill = factor(`%age population under poverty`)), stat = "identity") + theme(legend.position = "none") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL)  +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1) + theme(legend.position = "right") +
labs(title = "%age of people living below poverty line",
caption = "source: World Bank, Global Poverty Working Group.", parse = TRUE)
ggplotly(p)
p <- gdp_data_ven %>%
mutate(year = factor(date)) %>%
ggplot(aes(x = year, y = value, group = 1)) +
geom_line(group = 1) + ylab("GDP per capita growth") +xlab(NULL) + ylab(NULL) +
geom_hline(yintercept = 0, color = "red")
ggplotly(p) +
labs(
title = "GDP per capita growth",
subtitle = "2000 - 2014",
caption = "source: World Bank, Global Poverty Working Group."
)
p <- gdp_data_ven %>%
mutate(year = factor(date)) %>%
ggplot(aes(x = year, y = value, group = 1)) +
geom_line(group = 1) + ylab("GDP per capita growth") +xlab(NULL) + ylab(NULL) +
geom_hline(yintercept = 0, color = "red")
ggplotly(p) +
layout(title = list(text = paste0('GDP per capita growth',
'<br>',
'<sup>',
'2000 - 2014',
'</sup>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
?layout
p <- gdp_data_ven %>%
mutate(year = factor(date)) %>%
ggplot(aes(x = year, y = value, group = 1)) +
geom_line(group = 1) + ylab("GDP per capita growth") +xlab(NULL) + ylab(NULL) +
geom_hline(yintercept = 0, color = "red")
ggplotly(p) +
plotly::layout(title = list(text = paste0('GDP per capita growth',
'<br>',
'<sup>',
'2000 - 2014',
'</sup>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
ggplotly(p) %>%
plotly::layout(title = list(text = paste0('GDP per capita growth',
'<br>',
'<sup>',
'2000 - 2014',
'</sup>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
ggplotly(p) %>%
plotly::layout(title = list(text = paste0('GDP per capita growth',
'<br>',
'<sup>',
'2000 - 2014',
'</sup>',
'<br>'
'<sup>',
ggplotly(p) %>%
plotly::layout(title = list(text = paste0('GDP per capita growth',
'<br>',
'<sup>',
'2000 - 2014',
'</sup>',
'<br>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
ggplotly(p) %>%
plotly::layout(title = list(text = paste0('GDP per capita growth',
'<br>',
'<sup>',
'2000 - 2014; source: World Bank, Global Poverty Working Group.',
'</sup>')))
ggplotly(p) %>%
plotly::layout(title = list(text = paste0('GDP per capita growth (2000-14)',
'<br>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = year, y = `%age population under poverty`, fill = factor(`%age population under poverty`)), stat = "identity") + theme(legend.position = "none") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL)  +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1) + theme(legend.position = "right")
ggplotly(p)%>%
plotly::layout(title = list(text = paste0('%age of people living below poverty line & GDP per capita growth (2009-16)',
'<br>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
p <- ggplot2::ggplot() +
ggplot2::geom_bar(data = pov_data_ssu %>%
mutate(year = factor(date), `%age population under poverty` = SI.POV.NAHC),
aes(x = year, y = `%age population under poverty`, fill = factor(`%age population under poverty`)), stat = "identity") +
ggplot2::geom_line(data = gdp_data_ssu %>%
mutate(year = factor(date)), aes(x = year, y = value, group = 1, color = "GDP Growth Rate")) +
xlab(NULL) + ylab(NULL)  +
scale_fill_viridis(discrete=TRUE, guide=FALSE, option="A", direction = -1) + theme(legend.position = "none")
ggplotly(p)%>%
plotly::layout(title = list(text = paste0('%age of people living below poverty line & GDP per capita growth (2009-16)',
'<br>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
destination_data_ssu %>%
# Removing rows without data
filter(...1 >= 2010) %>%
mutate(year = factor(...1)) %>%
ggplot() +
geom_point(aes(x = year, y = Total, color = "red")) +
geom_line(aes(x = year, y = Total, group = 1, color = "red")) +
ylab(NULL) + xlab(NULL) +
geom_segment(aes(x = 1.2, xend = 1.2, y = 0, yend = 381000), color = "orange", size = 0.2) +
geom_label(aes(x = 1.2, y = 200000, label = "2011:\n South Sudan\nis born", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 1.6, xend = 1.6, y = 0, yend = 602000), color = "orange", size = 0.2) +
geom_label(aes(x=1.6, y=200000, label="2013:\nCivil War\nerupts", fill = "yellow"),size=2.5) +
geom_segment(aes(x = 2.2, xend = 2.2, y = 0, yend = 855000), color = "orange", size = 0.2) +
geom_label(aes(x=2.2, y=200000, label="2016:\nUN claims ethnic\n cleansing in S. Sudan", fill = "yellow"),size=2.5) +
labs(
title = "Evolution of migration",
subtitle = "2010 - 2019",
caption = "source: World Bank, Global Poverty Working Group."
) +
theme(
legend.position = "none"
) +
scale_color_viridis(discrete=TRUE, guide=FALSE, option="D", direction = 1)
# Importing migrant origin and destination numbers for South Sudan
destination_data <- readxl::read_excel("Data/UN_MigrantStockByOriginAndDestination_2019.xlsx", sheet = 2, skip = 15, col_names = TRUE, trim_ws = TRUE)
# Subsetting origin to South Sudan
destination_data_ssu <- destination_data %>%
dplyr::filter(...3 == "South Sudan")
destination_data_ssu$Total <- destination_data_ssu$Total %>%
as.numeric()
# Subsetting origin to Syria and also 2018. This will be used in the map.
destination_data_ssu_2019 <- destination_data_ssu %>%
dplyr::filter(...1 == 2019)
# I am not interested in the first 9 columns. Only keeping columns which have data about the destination countries
destination_data_ssu_2019 <- destination_data_ssu_2019[c(10:241)]
# Making the table vertical- gather
destination_data_ssu_2019 <- tidyr::gather(destination_data_ssu_2019, key = "country", value = "value")
destination_data_ssu_2019$value <- destination_data_ssu_2019$value %>%
as.numeric()
destination_data_ssu %>%
# Removing rows without data
filter(...1 >= 2010) %>%
mutate(year = factor(...1)) %>%
ggplot() +
geom_point(aes(x = year, y = Total, color = "red")) +
geom_line(aes(x = year, y = Total, group = 1, color = "red")) +
ylab(NULL) + xlab(NULL) +
geom_segment(aes(x = 1.2, xend = 1.2, y = 0, yend = 381000), color = "orange", size = 0.2) +
geom_label(aes(x = 1.2, y = 200000, label = "2011:\n South Sudan\nis born", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 1.6, xend = 1.6, y = 0, yend = 602000), color = "orange", size = 0.2) +
geom_label(aes(x=1.6, y=200000, label="2013:\nCivil War\nerupts", fill = "yellow"),size=2.5) +
geom_segment(aes(x = 2.2, xend = 2.2, y = 0, yend = 855000), color = "orange", size = 0.2) +
geom_label(aes(x=2.2, y=200000, label="2016:\nUN claims ethnic\n cleansing in S. Sudan", fill = "yellow"),size=2.5) +
labs(
title = "Evolution of migration",
subtitle = "2010 - 2019",
caption = "source: World Bank, Global Poverty Working Group."
) +
theme(
legend.position = "none"
) +
scale_color_viridis(discrete=TRUE, guide=FALSE, option="D", direction = 1)
gdp_data_syr <- wbstats::wb(country = "SYR",
indicator = c("NY.GDP.PCAP.KD.ZG") , startdate = 2000, enddate = 2017)
gdp_data_syr$date <- as.numeric(gdp_data_syr$date)
p <- gdp_data_syr %>%
ggplot(aes(x = factor(date), y = value, group = 1)) +
geom_line(group = 1) + ylab("GDP per capita growth") +xlab(NULL) +
geom_hline(yintercept = 0, color = "red")
ggplotly(p) %>%
plotly::layout(title = list(text = paste0('GDP per capita growth (2000-7)',
'<br>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
p <- gdp_data_syr %>%
mutate(year = factor(date)) %>%
ggplot(aes(x = year, y = value, group = 1)) +
geom_line(group = 1) + ylab("GDP per capita growth") +xlab(NULL) +
geom_hline(yintercept = 0, color = "red")
ggplotly(p) %>%
plotly::layout(title = list(text = paste0('GDP per capita growth (2000-7)',
'<br>',
'<sup>',
'source: World Bank, Global Poverty Working Group.',
'</sup>')))
# Importing migrant origin and destination numbers for Syria
destination_data <- readxl::read_excel("Data/UN_MigrantStockByOriginAndDestination_2019.xlsx", sheet = 2, skip = 15, col_names = TRUE, trim_ws = TRUE)
# Subsetting origin to Syria
destination_data_syr <- destination_data %>%
dplyr::filter(...3 == "Syrian Arab Republic")
destination_data_syr$Total <- destination_data_syr$Total %>%
as.numeric()
# Subsetting origin to Syria and also 2018. This will be used in the map.
destination_data_syr_2019 <- destination_data_syr %>%
dplyr::filter(...1 == 2019)
# I am not interested in the first 9 columns. Only keeping columns which have data about the destination countries
destination_data_syr_2019 <- destination_data_syr_2019[c(10:241)]
# Making the table vertical- gather
destination_data_syr_2019 <- tidyr::gather(destination_data_syr_2019, key = "country", value = "value")
destination_data_syr_2019$value <- destination_data_syr_2019$value %>%
as.numeric()
destination_data_syr %>%
ggplot() +
geom_point(aes(x = factor(...1), y = Total)) +
geom_line(aes(x = factor(...1), y = Total, group = 1)) +
ylab(NULL) + xlab(NULL) +
geom_segment(aes(x = 3, xend = 3, y = 0, yend = 834916), color = "blue", size = 0.2) +
geom_label(aes(x = 3, y = 200000, label = "2000:\n Bashar Assad\ncomes to power"), size = 2.5) +
geom_segment(aes(x = 3.8, xend = 3.8, y = 0, yend = 851000), color = "blue", size = 0.2) +
geom_label(aes(x = 3.8, y = 500000, label = "2004:\n US imposes\nsanctions"), size = 2.5) +
geom_segment(aes(x = 5.2, xend = 5.2, y = 0, yend = 1600000), color = "blue", size = 0.2) +
geom_label(aes(x = 5.2, y = 1000000, label = "2011:\n Arab Spring\nSyrian Civil War begins"), size = 2.5) +
geom_segment(aes(x = 5.5, xend = 5.5, y = 0, yend = 1300000), color = "blue", size = 0.2) +
geom_label(aes(x=5.5, y=500000, label="2012:\nUN declares state of\ncivil war in Syria"),size=2.5) +
geom_segment(aes(x = 6.8, xend = 6.8, y = 0, yend = 867848), color = "blue", size = 0.2) +
geom_label(aes(x=6.8, y=200000, label="2018:\nUS-led missile\nstrikes"),size=2.5)
destination_data_syr %>%
mutate(year = factor(...1)) %>%
ggplot() +
geom_point(aes(x = year, y = Total)) +
geom_line(aes(x = year, y = Total, group = 1)) +
ylab(NULL) + xlab(NULL) +
geom_segment(aes(x = 3, xend = 3, y = 0, yend = 834916), color = "orange", size = 0.2) +
geom_label(aes(x = 3, y = 200000, label = "2000:\n Bashar Assad\ncomes to power", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 3.8, xend = 3.8, y = 0, yend = 851000), color = "orange", size = 0.2) +
geom_label(aes(x = 3.8, y = 500000, label = "2004:\n US imposes\nsanctions", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 5.2, xend = 5.2, y = 0, yend = 1600000), color = "orange", size = 0.2) +
geom_label(aes(x = 5.2, y = 1000000, label = "2011:\n Arab Spring\nSyrian Civil War begins", fill = "yellow"), size = 2.5) +
geom_segment(aes(x = 5.5, xend = 5.5, y = 0, yend = 1300000), color = "orange", size = 0.2) +
geom_label(aes(x=5.5, y=500000, label="2012:\nUN declares state of\ncivil war in Syria", fill = "yellow"),size=2.5) +
geom_segment(aes(x = 6.8, xend = 6.8, y = 0, yend = 867848), color = "orange", size = 0.2) +
geom_label(aes(x=6.8, y=200000, label="2018:\nUS-led missile\nstrikes", fill = "yellow"),size=2.5) +
labs(
title = "Evolution of migration",
subtitle = "1990 - 2019",
caption = "source: World Bank, Global Poverty Working Group."
) +
theme(
legend.position = "none"
) +
scale_color_viridis(discrete=TRUE, guide=FALSE, option="D", direction = 1)
